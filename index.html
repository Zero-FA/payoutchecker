<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apex PA Payout Checker</title>
<link rel="icon" href="data:,">
<style>
  :root{
    --bg:#0b1220; --card:#0f172a; --ink:#e5e7eb; --muted:#94a3b8; --line:#1f2937;
    --good:#22c55e; --good2:#16a34a; --bad:#f43f5e; --pill:#10b98133;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0b1220,#0a0f1a 28%,#0b1220);
       color:var(--ink);font:14px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{max-width:1100px;margin:32px auto;padding:0 16px}
  .h1{font-weight:800;font-size:24px;margin-bottom:4px}
  .sub{color:var(--muted);margin-bottom:16px}
  .card{background:rgba(15,23,42,.95);border:1px solid var(--line);border-radius:16px;padding:16px}
  .grid{display:grid;gap:12px}
  .cols2{grid-template-columns:1fr 1fr}
  .cols3{grid-template-columns:2fr 1fr}
  .label{font-size:12px;color:var(--muted);margin-bottom:6px}
  .input,.select{width:100%;border:1px solid #243143;background:#0b1527;color:var(--ink);
                 border-radius:10px;padding:10px 12px;font:inherit}
  .help{font-size:12px;color:var(--muted);margin-top:4px}
  .row{display:flex;gap:8px;align-items:center}
  .ok{color:var(--good)} .bad{color:var(--bad)}
  .tile{background:#0c162b;border:1px solid #1f2c46;border-radius:12px;padding:12px}
  .range{background:#06331f;border:1px solid #144f33;color:#a7f3d0;border-radius:12px;padding:12px}
  .list{list-style:none;padding:0;margin:0}
  .list li{display:flex;gap:8px;align-items:flex-start;padding:6px 0;border-bottom:1px solid #142036}
  .list li:last-child{border-bottom:0}
  .mono{font:12px ui-monospace,Consolas,Menlo,monospace}
  hr{border:none;border-top:1px solid #1a2234;margin:12px 0}
  @media (max-width:920px){ .cols3,.cols2{grid-template-columns:1fr} }
</style>
</head>
<body>
<div class="wrap">
<div class="h1">Zero's Apex Trader Funding Payout Checker</div>
<div class="sub">Check your payout eligibility criteria.</div>
  <div style="margin:8px 0 12px 0; text-align:right;">
  <a href="https://apextraderfunding.com/member/aff/go/seanodonoghue67"
     target="_blank"
     style="
       display:inline-block;
       padding:8px 14px;
       background:#0c162b;
       border:1px solid #1f2c46;
       border-radius:8px;
       color:#60a5fa;
       font-weight:600;
       font-size:13px;
       text-decoration:none;
     ">
     Use code ZEROFA at checkout! →
  </a>
</div>

  <!-- MAIN GRID -->
  <div class="grid cols3" style="gap:16px; align-items:start">

    <!-- LEFT (Form + What to Fix) -->
    <div class="grid" style="gap:16px">
      <div class="card">
        <div class="grid cols2">
          <div>
            <div class="label">PA Status</div>
            <select id="paStatus" class="select">
              <option>Active</option>
              <option>Account Blown</option>
              <option>Failed Rebill</option>
              <option>Invoice Cancelled</option>
            </select>
          </div>
          <div>
            <div class="label">Account Size</div>
            <select id="account" class="select">
              <option value="25k">$25k</option>
              <option value="50k" selected>$50k</option>
              <option value="100k">$100k</option>
              <option value="150k">$150k</option>
              <option value="250k">$250k</option>
              <option value="300k">$300k</option>
              <option value="100kStatic">$100k Static</option>
            </select>
          </div>

          <div>
            <div class="label">Approved Payouts So Far</div>
            <input id="approvedCount" class="input" type="number" min="0" placeholder="e.g., 0" />
            <div class="help">Enter how many payouts have already been <b>approved</b>.</div>
          </div>

          <div>
            <div class="label">Last Payout Status</div>
            <select id="payoutStatus" class="select">
              <option value="none">None yet</option>
              <option value="approved">Approved</option>
              <option value="denied">Denied</option>
            </select>
            <div id="payoutStatusHelp" class="help">All trading days since starting this PA count.</div>
          </div>

          <div class="row" style="padding-top:28px">
            <input id="isLiveProp" type="checkbox" />
            <label for="isLiveProp">Live Prop Account (lifts 30% rule)</label>
          </div>
        </div>

        <hr />

        <div class="grid cols2">
          <div>
            <div class="label">Current Balance ($)</div>
            <input id="currentBalance" class="input" inputmode="decimal" placeholder="e.g., 52600" />
          </div>
          <div>
            <div class="label">Desired Payout ($)</div>
            <input id="requestedPayout" class="input" inputmode="decimal" placeholder="e.g., 500" />
            <div class="help">Min $500</div>
          </div>

          <div>
            <div class="label">Highest Profit Day Since Last Approval</div>
            <input id="highestProfitDay" class="input" inputmode="decimal" placeholder="e.g., 600" />
          </div>
          <div>
            <div class="label">Trading Days Since Last Request</div>
            <input id="tradingDays" class="input" type="number" min="0" placeholder="e.g., 8" />
          </div>
          <div>
            <div class="label">Profitable Days ≥ $50 (same period)</div>
            <input id="profitableDays" class="input" type="number" min="0" placeholder="e.g., 5" />
          </div>
        </div>
      </div>

      <!-- What to Fix -->
      <div id="adviceWrap" class="card" style="display:none">
        <div style="font-weight:600;margin-bottom:6px">What to Fix</div>
        <ul id="adviceList" class="list"></ul>
      </div>
    </div>

    <!-- RIGHT (Summary + Checklist + Trading Rules) -->
    <div class="grid" style="gap:16px">
      <div id="summaryCard" class="card">
        <div class="row">
          <svg class="ok" width="22" height="22" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <path d="M22 4 12 14.01l-3-3"></path>
          </svg>
          <div style="font-weight:700">Should the payout be approved?</div>
        </div>
        <div style="text-align:right;margin-top:2px;">
  <a href="https://support.apextraderfunding.com/hc/en-us/articles/40507212951451-PA-Payout-Parameters"
     target="_blank"
     style="font-size:12px;color:#60a5fa;text-decoration:none;">
     View Payout Parameters →
  </a>
</div>
        <div id="yesno" style="font-size:22px;font-weight:800;margin:6px 0" class="ok">YES</div>

        <div class="grid cols2">
          <div class="tile">
            <div class="help">Safety net required?</div>
            <div id="safetyReq"></div>
          </div>
          <div class="tile">
            <div class="help">Min balance to request</div>
            <div id="minBal"></div>
          </div>
          <div class="tile">
            <div class="help">Min payout</div>
            <div>$500</div>
          </div>
          <div class="tile">
            <div class="help">Max payout cap</div>
            <div id="maxCap"></div>
          </div>
        </div>

        <div id="rangeWrap" class="range" style="margin-top:12px;display:none">
          <div class="help">Allowed payout range</div>
          <div id="range" style="font-weight:700;font-size:16px"></div>
        </div>
      </div>

      <!-- Existing Checklist -->
      <div class="card">
        <div style="font-weight:600;margin-bottom:6px">Checklist</div>
        <ul id="checklist" class="list"></ul>
      </div>

      <!-- NEW Trading Rule Compliance With Checkboxes -->
      <div class="card">
        <div style="font-weight:600;margin-bottom:6px">Trading Rule Compliance (Required)</div>
        <ul id="rulesList" class="list"></ul>
      </div>

      <div class="card mono" style="font-size:12px;color:var(--muted)">
        Notes: Trading rules MUST be followed to qualify for payout.
      </div>
    </div>

  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

/* ---------- Account Data ---------- */
const ACCOUNT_CONFIG = {
  "25k": { label:"$25k", start:25000, min3:26600 },
  "50k": { label:"$50k", start:50000, min3:52600 },
  "100k":{ label:"$100k", start:100000, min3:103100 },
  "150k":{ label:"$150k", start:150000, min3:155100 },
  "250k":{ label:"$250k", start:250000, min3:256600 },
  "300k":{ label:"$300k", start:300000, min3:307600 },
  "100kStatic":{ label:"$100k Static", start:100000, min3:102600 },
};
const MAX_CAP = {
  "25k":1500,"50k":2000,"100k":2500,
  "150k":2750,"250k":3000,"300k":3500,"100kStatic":1000
};

/* ---------- Helpers ---------- */
const $ = s => document.querySelector(s);
const fmt = v => Number(v).toLocaleString();

/* ---------- Trading Rules (checkbox version) ---------- */
const TRADING_RULES = [
  { key:"scaling", label:"Contract Scaling Rule", fix:"Acknowledge Contract Scaling Rule violation or confirm compliance." },
  { key:"mae", label:"30% Negative P&L Rule (MAE)", fix:"Confirm no single trade exceeded 30% MAE limit." },
  { key:"risk", label:"5:1 Risk-Reward Ratio Rule", fix:"Confirm stop loss did not exceed 5× your profit target." },
  { key:"hedge", label:"Hedging Rule", fix:"Confirm you did not hedge (long & short at same time)." },
  { key:"direction", label:"One Direction Rule", fix:"Confirm you did not have conflicting long & short orders." }
];

/* ---------- Build Rule Checkbox UI ---------- */
// NEW Trading Rules With Links
const rulesList = $("#rulesList");
rulesList.innerHTML = "";

const ruleLinks = {
  scaling: "https://support.apextraderfunding.com/hc/en-us/articles/40463165052955-Contract-Scaling-Rule",
  mae: "https://support.apextraderfunding.com/hc/en-us/articles/40463232267035-30-Negative-P-L-Rule-Maximum-Adverse-Excursion-MAE",
  risk: "https://support.apextraderfunding.com/hc/en-us/articles/40463462503067-5-1-Risk-Reward-Ratio-Rule",
  hedge: "https://support.apextraderfunding.com/hc/en-us/articles/40463541656603-Hedging-and-Correlated-Instruments-Rule",
  direction: "https://support.apextraderfunding.com/hc/en-us/articles/40463473205275-One-Direction-Rule-Directionally-biased-trading"
};

TRADING_RULES.forEach(rule => {
  const li = document.createElement("li");
  li.style.justifyContent = "space-between";
  li.style.alignItems = "center";

  li.innerHTML = `
    <div style="display:flex;gap:8px;align-items:center;">
      <input type="checkbox" id="rule_${rule.key}" data-rule="${rule.key}" />
      <label for="rule_${rule.key}" style="cursor:pointer;font-weight:600">${rule.label}</label>
    </div>

    <a href="${ruleLinks[rule.key]}"
       target="_blank"
       style="font-size:12px;color:#60a5fa;text-decoration:none;">
       Learn more →
    </a>
  `;

  rulesList.appendChild(li);
});

/* ---------- Evaluation ---------- */
function evaluate() {
  const acc = $("#account").value;
  const cfg = ACCOUNT_CONFIG[acc];

  const approved = Number($("#approvedCount").value || 0);
  const payoutNum = approved + 1;

  const isLive = $("#isLiveProp").checked;
  const current = Number($("#currentBalance").value || 0);
  const requested = Number($("#requestedPayout").value || 0);
  const highDay = Number($("#highestProfitDay").value || 0);
  const tDays = Number($("#tradingDays").value || 0);
  const pDays = Number($("#profitableDays").value || 0);

  const safetyRequired = !isLive && payoutNum <= 3;
  const minBalance = safetyRequired ? cfg.min3 : cfg.start + 100;

  const meets8 = tDays >= 8;
  const meets5 = pDays >= 5;

  const cap = payoutNum <= 5 ? MAX_CAP[acc] : null;
  const underCap = cap ? requested <= cap : true;

  const meetsMinBalance = current >= minBalance;
  const meetsMinPayout = requested >= 500;

  let reasons = [];

  reasons.push({ pass: true, label:"Account is Active" });
  reasons.push({ pass: meets8, label:"≥ 8 trading days" });
  reasons.push({ pass: meets5, label:"≥ 5 profitable days ≥ $50" });
  reasons.push({ pass: meetsMinBalance, label:`Meets minimum balance requirement (${fmt(minBalance)})` });
  reasons.push({ pass: meetsMinPayout, label:"Requested payout ≥ $500" });
  reasons.push({ pass: underCap, label:"Under payout cap" });

  /* ---------- RULE CHECKBOXES ---------- */
  const ruleChecks = {};
  TRADING_RULES.forEach(rule => {
    const box = $(`#rule_${rule.key}`);
    ruleChecks[rule.key] = box.checked;

    reasons.push({
      pass: box.checked,
      label: rule.label
    });
  });

  /* ---------- Eligibility ---------- */
  const eligible = reasons.every(r => r.pass);

  return { eligible, reasons, minBalance, cap, ruleChecks };
}

/* ---------- Render ---------- */
function render() {
  const res = evaluate();

  $("#yesno").textContent = res.eligible ? "YES" : "NO";
  $("#yesno").className = res.eligible ? "ok" : "bad";

  $("#checklist").innerHTML = "";
  res.reasons.forEach(r => {
    const li = document.createElement("li");
    li.innerHTML = `
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
           stroke="${r.pass ? '#22c55e' : '#f43f5e'}" stroke-width="2">
        ${r.pass
          ? '<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><path d="M22 4 12 14.01l-3-3"></path>'
          : '<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>'}
      </svg>
      <div><div style="font-weight:600">${r.label}</div></div>
    `;
    $("#checklist").appendChild(li);
  });

  /* ---------- What to Fix ---------- */
  $("#adviceList").innerHTML = "";

  const missing = res.reasons.filter(r => !r.pass);
  if (missing.length > 0) {
    $("#adviceWrap").style.display = "block";
    missing.forEach(m => {
      const li = document.createElement("li");
      li.innerHTML = `<div class="help">${m.label}</div>`;
      $("#adviceList").appendChild(li);
    });
  } else {
    $("#adviceWrap").style.display = "none";
  }
}

/* ---------- Bind inputs ---------- */
document.querySelectorAll("input, select").forEach(el =>
  el.addEventListener("input", render)
);

render();

});
</script>

</body>
</html>
