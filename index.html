<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apex PA Payout Checker</title>
<link rel="icon" href="data:,">
<style>
  :root{
    --bg:#0b1220; --card:#0f172a; --ink:#e5e7eb; --muted:#94a3b8; --line:#1f2937;
    --good:#22c55e; --bad:#f43f5e;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0b1220,#0a0f1a 28%,#0b1220);
       color:var(--ink);font:14px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{max-width:1100px;margin:32px auto;padding:0 16px}
  .h1{font-weight:800;font-size:24px;margin-bottom:4px}
  .sub{color:var(--muted);margin-bottom:16px}
  .card{background:rgba(15,23,42,.95);border:1px solid var(--line);border-radius:16px;padding:16px}
  .grid{display:grid;gap:12px}
  .cols2{grid-template-columns:1fr 1fr}
  .cols3{grid-template-columns:2fr 1fr}
  .label{font-size:12px;color:var(--muted);margin-bottom:6px}
  .input,.select{width:100%;border:1px solid #243143;background:#0b1527;color:var(--ink);
                 border-radius:10px;padding:10px 12px;font:inherit}
  .help{font-size:12px;color:var(--muted);margin-top:4px}
  .row{display:flex;gap:8px;align-items:center}
  .ok{color:var(--good)} .bad{color:var(--bad)}
  .tile{background:#0c162b;border:1px solid #1f2c46;border-radius:12px;padding:12px}
  .range{background:#06331f;border:1px solid #144f33;color:#a7f3d0;border-radius:12px;padding:12px}
  .list{list-style:none;padding:0;margin:0}
  .list li{display:flex;gap:8px;align-items:flex-start;padding:6px 0;border-bottom:1px solid #142036}
  .list li:last-child{border-bottom:0}
  .mono{font:12px ui-monospace,Consolas,Menlo,monospace}
  .tests{font-size:12px;color:var(--muted)}
  hr{border:none;border-top:1px solid #1a2234;margin:12px 0}
  @media (max-width:920px){ .cols3,.cols2{grid-template-columns:1fr} }
  svg{flex:0 0 auto}
</style>
</head>
<body>
<div class="wrap">
  <div class="h1">Apex PA Payout Checker</div>
  <div class="sub">Quickly validate payout eligibility per account and payout number.</div>

  <!-- MAIN GRID -->
  <div class="grid cols3" style="gap:16px;align-items:start">
    <!-- LEFT: Inputs -->
    <div>
      <div class="card">
        <div class="grid cols2">
          <div>
            <div class="label">PA Status</div>
            <select id="paStatus" class="select">
              <option>Active</option>
              <option>Account Blown</option>
              <option>Failed Rebill</option>
              <option>User Cancelled</option>
            </select>
          </div>
          <div>
            <div class="label">Account Size</div>
            <select id="account" class="select">
              <option value="25k">$25k</option>
              <option value="50k" selected>$50k</option>
              <option value="100k">$100k</option>
              <option value="150k">$150k</option>
              <option value="250k">$250k</option>
              <option value="300k">$300k</option>
              <option value="100kStatic">$100k Static</option>
            </select>
          </div>

          <div>
            <div class="label">Approved Payouts So Far</div>
            <input id="approvedCount" class="input" type="number" min="0" placeholder="e.g., 0" />
            <div class="help">Enter how many payouts have already been <b>approved</b>. This request will be number (count + 1). The 6th removes the 30% rule and caps.</div>
          </div>

          <div>
            <div class="label">Last Payout Status</div>
            <select id="payoutStatus" class="select">
              <option value="none">None yet</option>
              <option value="approved">Approved</option>
              <option value="denied">Denied</option>
            </select>
            <div id="payoutStatusHelp" class="help">All trading days since starting this PA count toward payout eligibility.</div>
          </div>

          <div class="row" style="padding-top:28px">
            <input id="isLiveProp" type="checkbox" />
            <label for="isLiveProp">Live Prop Account (lifts 30% rule)</label>
          </div>
        </div>

        <hr />

        <div class="grid cols2">
          <div>
            <div class="label">Current Balance ($)</div>
            <input id="currentBalance" class="input" inputmode="decimal" placeholder="e.g., 52600" />
          </div>
          <div>
            <div class="label">Desired Payout ($)</div>
            <input id="requestedPayout" class="input" inputmode="decimal" placeholder="e.g., 500" />
            <div class="help">Min $500. Caps apply for first 5 payouts.</div>
          </div>

          <div>
            <div class="label">Highest Profit Day Since Last Approval</div>
            <input id="highestProfitDay" class="input" inputmode="decimal" placeholder="e.g., 600" />
          </div>
          <div>
            <div class="label">Trading Days Since Last Request</div>
            <input id="tradingDays" class="input" type="number" min="0" placeholder="e.g., 8" />
          </div>
          <div>
            <div class="label">Profitable Days ≥ $50 Since Last Approval</div>
            <input id="profitableDays" class="input" type="number" min="0" placeholder="e.g., 5" />
          </div>
        </div>
      </div>

      <!-- BELOW FORM -->
      <div class="grid" style="gap:16px; margin-top:16px;">
        <div class="card">
          <div style="font-weight:600;margin-bottom:6px">Checklist</div>
          <ul id="checklist" class="list"></ul>
        </div>

        <div id="adviceWrap" class="card" style="display:none">
          <div style="font-weight:600;margin-bottom:6px">What to fix</div>
          <ul id="adviceList" class="list"></ul>
        </div>

        <div class="card tests">
          <div style="font-weight:600;margin-bottom:6px">Internal Tests</div>
          <ul id="tests" class="list"></ul>
        </div>

        <div class="card tests mono">
          Notes: 30% rule lifted on the 6th payout or Live Prop. Safety net (drawdown + $100) applies to first three payouts only. Min
          payout is $500. First five payouts have account-size caps. After 6th, no cap but you must still satisfy the minimum balance rules.
        </div>
      </div>
    </div>

    <!-- RIGHT: Summary -->
    <div class="grid" style="gap:16px;align-self:start;">
      <div id="summaryCard" class="card" style="border-color:#144f33">
        <div class="row">
          <svg class="ok" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <path d="M22 4 12 14.01l-3-3"></path>
          </svg>
          <div style="font-weight:700">Should user get a payout?</div>
        </div>
        <div id="yesno" style="font-size:22px;font-weight:800;margin:6px 0" class="ok">YES</div>

        <div class="grid cols2">
          <div class="tile">
            <div class="help">Safety net required?</div>
            <div id="safetyReq" style="font-weight:600">—</div>
            <div class="help">Safety net = drawdown + $100 → <span id="safetyAmt">—</span></div>
          </div>
          <div class="tile">
            <div class="help">Min balance to request</div>
            <div id="minBal" style="font-weight:600">—</div>
            <div class="help">Must remain after payout (≥4th) or be met before request (≤3rd).</div>
          </div>
          <div class="tile">
            <div class="help">Min payout</div>
            <div id="minPay" style="font-weight:600">$500</div>
          </div>
          <div class="tile">
            <div class="help">Max payout cap</div>
            <div id="maxCap" style="font-weight:600">—</div>
          </div>
        </div>

        <div id="rangeWrap" class="range" style="margin-top:12px;display:none">
          <div class="help">Allowed payout range</div>
          <div id="range" style="font-weight:700;font-size:16px">$— – $—</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
/* ---------- JS logic unchanged ---------- */
/* (Omitted here for brevity — you can keep your same JS as before) */
</script>
</body>
</html>
